import{a as k,t as S,c as ut,b as Tt}from"../chunks/disclose-version.DTAQul2H.js";import{p as Ot,d as b,t as F,a as qt,g as e,b as l,c as s,s as n,f as ze,e as xe,n as Ze,r as o}from"../chunks/runtime.B4QXH2CN.js";import{d as Vt,s as Ut,e as Kt,b as Mt,a as $}from"../chunks/store.D_on7m4h.js";import{i as te}from"../chunks/if.DRLG6bOh.js";import{e as vt,r as ye,i as ft,a as Ce,s as Rt}from"../chunks/attributes.DPN48yOH.js";import{t as et,s as Gt,f as mt}from"../chunks/index.A-vRoXhT.js";import{b as V}from"../chunks/input.Br29pWBN.js";import{b as tt}from"../chunks/select.CXmm0mL2.js";import{a as G}from"../chunks/preload-helper.B2IhT0O3.js";import{o as Yt}from"../chunks/index-client.Bib29rnf.js";import{a as g}from"../chunks/Icon.yFnM2WBm.js";import{E as Ht,a as Lt}from"../chunks/jspdf.plugin.autotable.BvDXkAOZ.js";import{p as Bt}from"../chunks/stores.BoiHb4t-.js";import{C as Qt}from"../chunks/chevron-left.WFET1Ekd.js";import{S as Xt}from"../chunks/search.K0UJueoa.js";import{A as gt}from"../chunks/arrow-up-down.0onLll3z.js";import{S as Jt}from"../chunks/save.DYSOdrWi.js";import{X as bt}from"../chunks/x.xw5d-c1A.js";import{P as Wt}from"../chunks/pencil.BlEN5tg-.js";import{T as Zt}from"../chunks/trash-2.DnhmlcTU.js";const er=async(w,i,h,U,le)=>{l(i,!0);try{let x={};if(e(h)==="admin")x={is_approved:!0};else if(e(h)==="vice_president")x={is_approved_vp:!0};else if(e(h)==="president")x={is_approved_president:!0};else{l(i,!1);return}const N=e(U).map(y=>y.id),{data:I,error:Y}=await g.from("action_plans").select("id, profile_id, department_id").in("id",N);if(Y){console.error("Error fetching action plans with department_id:",Y),l(i,!1);return}const{error:T}=await g.from("action_plans").update(x).in("id",N);if(T){console.error("Error approving all action plans:",T),l(i,!1);return}if(e(h)==="president"&&I)for(const y of I){const{data:de,error:H}=await g.from("plan_monitoring").select("id").eq("action_plan_id",y.id).limit(1);if(H){console.error(`Error checking for duplicates for plan ID ${y.id}:`,H);continue}if(!de||de.length===0){const{error:L}=await g.from("plan_monitoring").insert({action_plan_id:y.id,profile_id:y.profile_id,department_id:y.department_id});L&&console.error(`Error inserting into plan_monitoring for plan ID ${y.id}:`,L)}}await le(),console.log("All action plans approved successfully.")}catch(x){console.error("Unexpected error while approving all action plans:",x)}finally{l(i,!1)}},tr=(w,i)=>{l(i,null)},rr=async(w,i,h)=>{if(e(i))try{const{error:U}=await g.from("action_plans").update({actions_taken:e(i).actions_taken,kpi:e(i).kpi,target_output:e(i).target_output,key_person_responsible:e(i).key_person_responsible}).eq("id",e(i).id);if(U)throw U;await h(),l(i,null)}catch(U){console.error("Error updating action plan:",U)}};var ar=S("<option> </option>"),or=S('<button class="flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/90 transition-colors">Export to PDF</button> <button class="flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50"> </button>',1),sr=S('<div class="flex justify-center p-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div>'),nr=(w,i)=>i("department_name"),ir=(w,i)=>i("actions_taken"),lr=S('<tr class="hover:bg-muted/50"><td class="px-4 py-3"> </td><td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 bg-background border border-input rounded focus:outline-none focus:ring-2 focus:ring-ring"></td><td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 bg-background border border-input rounded focus:outline-none focus:ring-2 focus:ring-ring"></td><td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 bg-background border border-input rounded focus:outline-none focus:ring-2 focus:ring-ring"></td><td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 bg-background border border-input rounded focus:outline-none focus:ring-2 focus:ring-ring"></td><td class="px-4 py-3"><div class="flex justify-center gap-2"><button class="p-1.5 hover:bg-muted rounded-lg text-green-500"><!></button> <button class="p-1.5 hover:bg-muted rounded-lg text-red-400"><!></button></div></td></tr>'),dr=(w,i,h)=>i(e(h).id),cr=(w,i,h)=>i(e(h)),pr=(w,i,h)=>i(e(h).id),_r=S('<tr class="hover:bg-muted/50"><td class="px-4 py-3"> </td><td class="px-4 py-3"> </td><td class="px-4 py-3"> </td><td class="px-4 py-3"> </td><td class="px-4 py-3"> </td><td class="px-4 py-3"><div class="flex justify-center gap-2"><button class="px-2 py-1 rounded bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 text-sm"> </button> <button class="text-muted-foreground hover:text-foreground"><!></button> <button class="p-1.5 hover:bg-muted rounded-lg text-red-400"><!></button></div></td></tr>'),ur=(w,i)=>l(i,e(i)-1),vr=(w,i)=>l(i,e(i)+1),fr=S('<div class="overflow-x-auto bg-card rounded-lg shadow border border-border"><table class="min-w-full table-auto"><thead class="bg-muted/50"><tr><th class="px-4 py-3 text-left"><button class="flex items-center gap-1">Department <!></button></th><th class="px-4 py-3 text-left"><button class="flex items-center gap-1">Actions Taken <!></button></th><th class="px-4 py-3 text-left">KPI</th><th class="px-4 py-3 text-left">Target Output</th><th class="px-4 py-3 text-left">Key Person Responsible</th><th class="px-4 py-3 text-center">Actions</th></tr></thead><tbody class="divide-y divide-border"></tbody></table></div> <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mt-4"><div class="text-sm text-muted-foreground"> </div> <div class="flex flex-col sm:flex-row items-center gap-4"><select class="bg-secondary border-secondary rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-ring w-full sm:w-auto"><option>5 per page</option><option>10 per page</option><option>25 per page</option><option>50 per page</option></select> <button class="px-3 py-1 rounded-lg border border-border hover:bg-muted disabled:opacity-50 transition-colors">Previous</button> <button class="px-3 py-1 rounded-lg border border-border hover:bg-muted disabled:opacity-50 transition-colors">Next</button></div></div>',1),mr=S('<div class="text-center py-12 bg-card rounded-lg border border-border"><p class="text-muted-foreground mb-4">No action plans found for this objective.</p></div>'),gr=(w,i)=>l(i,!1),br=S('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"> </div>'),xr=(w,i)=>l(i,!1),yr=S('<span class="flex items-center gap-2">Saving...</span>'),hr=S('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-card p-6 rounded-lg shadow-lg w-full max-w-md mx-4"><div class="flex justify-between items-center mb-6"><h2 class="text-xl font-semibold">Edit Action Plan</h2> <button class="text-muted-foreground hover:text-foreground"><!></button></div> <!> <form class="space-y-4"><div class="space-y-2"><label for="actions_taken" class="text-sm font-medium">Actions Taken</label> <textarea id="actions_taken" class="w-full p-2 border rounded-md bg-secondary" rows="3"></textarea></div> <div class="space-y-2"><label for="kpi" class="text-sm font-medium">KPI</label> <textarea id="kpi" class="w-full p-2 border rounded-md bg-secondary" rows="3"></textarea></div> <div class="space-y-2"><label for="target_output" class="text-sm font-medium">Target Output</label> <textarea id="target_output" class="w-full p-2 border rounded-md bg-secondary" rows="2"></textarea></div> <div class="space-y-2"><label for="key_person" class="text-sm font-medium">Key Person Responsible</label> <textarea id="key_person" class="w-full p-2 border rounded-md bg-secondary" rows="2"></textarea></div> <div class="flex justify-end gap-2 mt-6"><button type="button" class="px-4 py-2 border rounded-md hover:bg-secondary">Cancel</button> <button type="submit" class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50"><!></button></div></form></div></div>'),kr=S('<div class="flex flex-col gap-4 p-4 container mx-auto"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"><div class="flex items-center gap-2"><a class="flex items-center gap-2 text-muted-foreground hover:text-foreground"><!> Back to Strategic Objectives</a> <h1 class="text-2xl font-bold">Action Plans</h1></div></div> <div class="flex flex-col md:flex-row gap-4 mb-6"><div class="flex flex-col md:flex-row gap-4 flex-1"><div class="relative flex-1 w-full md:max-w-[300px]"><!> <input type="text" placeholder="Search action plans..." class="pl-10 pr-4 py-2 bg-secondary rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-ring"></div> <select class="bg-secondary rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring w-full md:w-[200px]"><option>All Departments</option><!></select> <select class="bg-secondary rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-ring w-full md:w-[200px]"><option>All Status</option><option>Approved</option><option>Not Approved</option></select></div> <div class="flex gap-2"><!></div></div> <!> <!></div>');function Rr(w,i){Ot(i,!0);const h=Ut(),U=()=>Mt(Bt,"$page",h);let le=b(""),x=b(1),N=b(5),I=b("department_name"),Y=b("asc"),T=[],y=b(G([])),de=b(G([])),H=b("all"),L=b("all"),A=b(null),B=null,Fe=null,re=null,E=b(!1),he=null,ae=null,oe=null,u=b(null);Yt(()=>{(async()=>{try{const{params:a}=U();if(a.id){const t=a.id.split("/");re=parseInt(t[0],10),console.log("Extracted Objective ID:",re),re?(l(E,!0),await xt(),await ce(),await yt(),await ht(),await kt(),await wt()):console.error("Objective ID is missing.")}else console.error("Route parameters are missing.")}catch(a){console.error("Error during data fetch:",a)}finally{l(E,!1)}})()});const xt=async()=>{try{const{data:{session:r}}=await g.auth.getSession();if(!r||!r.user)return;const{data:a,error:t}=await g.from("profiles").select("role").eq("id",r.user.id).single();t?console.error("Error fetching user role:",t):l(u,G(a.role))}catch(r){console.error("Error fetching current user role:",r)}},ce=async()=>{if(!re){console.error("Objective ID is missing.");return}const{data:r,error:a}=await g.from("action_plans").select(`
      *,
      profiles (
        first_name,
        last_name,
        departments (name)
      )
    `).eq("objective_id",re);a?console.error("Error fetching action plans:",a):(T=r.map(t=>{var d,c,f,j;return{id:t.id,actions_taken:t.actions_taken,kpi:t.kpi,target_output:t.target_output,key_person_responsible:t.key_person_responsible,created_at:t.created_at,objective_id:t.objective_id,is_approved:t.is_approved,is_approved_vp:t.is_approved_vp,is_approved_president:t.is_approved_president,profile_id:t.profile_id,department_name:((c=(d=t.profiles)==null?void 0:d.departments)==null?void 0:c.name)||"Unknown",user_name:`${((f=t.profiles)==null?void 0:f.first_name)||""} ${((j=t.profiles)==null?void 0:j.last_name)||""}`}}),Ie())},yt=async()=>{const{data:r,error:a}=await g.from("departments").select("id, name");a?console.error("Error fetching departments:",a):l(de,G(r))},ht=async()=>{const{data:r,error:a}=await g.from("strategic_objectives").select("id, name, strategic_goal_id").eq("id",re).single();if(a)console.error("Error fetching objective:",a);else{B=r;const{data:t,error:d}=await g.from("strategic_goals").select("id, name").eq("id",r.strategic_goal_id).single();d?console.error("Error fetching strategic goal:",d):Fe=t}},kt=async()=>{try{const{data:r,error:a}=await g.from("profiles").select("first_name, last_name").eq("role","admin");a||!r?(console.error("Error fetching admin names:",a||"No data found"),he="N/A"):he=r.map(t=>`${t.first_name} ${t.last_name}`).join(", ")}catch(r){console.error("Error fetching admin details:",r),he="N/A"}},wt=async()=>{try{const{data:r,error:a}=await g.from("profiles").select("first_name, last_name, role").in("role",["vice_president","president"]);if(a||!r){console.error("Error fetching VP and President names:",a||"No data found"),ae="N/A",oe="N/A";return}const t=r.filter(c=>c.role==="vice_president").map(c=>`${c.first_name} ${c.last_name}`),d=r.filter(c=>c.role==="president").map(c=>`${c.first_name} ${c.last_name}`);ae=t.length?t.join(", "):"N/A",oe=d.length?d.join(", "):"N/A"}catch(r){console.error("Error fetching VP and President details:",r),ae="N/A",oe="N/A"}},Ie=()=>{let r=[...T];e(u)==="vice_president"&&(r=r.filter(a=>a.is_approved)),e(u)==="president"&&(r=r.filter(a=>a.is_approved&&a.is_approved_vp)),e(H)!=="all"&&(r=r.filter(a=>a.department_name===e(H))),e(L)==="approved"?r=r.filter(a=>a.is_approved):e(L)==="notApproved"&&(r=r.filter(a=>!a.is_approved)),l(y,G(r))},At=async r=>{const{error:a}=await g.from("action_plans").delete().eq("id",r);a?console.error("Error deleting action plan:",a):await ce()},Et=async r=>{let a={};if(l(E,!0),e(u)==="admin")a={is_approved:!0};else if(e(u)==="vice_president")a={is_approved_vp:!0};else if(e(u)==="president")a={is_approved_president:!0};else{l(E,!1);return}try{const{data:t,error:d}=await g.from("action_plans").update(a).eq("id",r).select();if(d){console.error("Error approving action plan:",d);return}if(e(u)==="president"&&t&&t.length>0){const c=t[0],{error:f}=await g.from("plan_monitoring").insert({action_plan_id:c.id,profile_id:c.profile_id,department_id:c.department_id});f&&console.error("Error inserting into plan_monitoring:",f)}await ce()}catch(t){console.error("Unexpected error while approving action plan:",t)}finally{console.log("Action plan approved successfully."),l(E,!1)}},Pt=()=>{var O,D;const r=((O=T[0])==null?void 0:O.user_name)||"Unknown",a=((D=T[0])==null?void 0:D.department_name)||"Unknown",t=new Ht("landscape");t.setFont("times","normal"),t.setFontSize(12);const d=`${a} Action Plans for Objective: ${(B==null?void 0:B.name)||"N/A"}`,c=Fe?`Strategic Goal: ${Fe.name}`:"No Strategic Goal Assigned";t.text("MANUEL S. ENVERGA UNIVERSITY FOUNDATION",14,10),t.text(d,14,15),t.text(c,14,20),t.setFontSize(12),t.text("SY 2024-2025",14,25),t.setFontSize(12);const f=["Actions Taken","KPI","Target Output","Key Person Responsible"],j=e(y).map(q=>[q.actions_taken,q.kpi,q.target_output,q.key_person_responsible]);Lt(t,{head:[f],body:j,startY:35,theme:"grid",styles:{fontSize:10},headStyles:{fillColor:[41,128,185]}});const p=t.internal.pageSize.height-30;t.text(`${r} (sgnd)`,14,p-5),t.text("_________________________",14,p),t.text(`${a} Department Head`,14,p+5),t.text(`${he||"N/A"} (sgnd)`,100,p-5),t.text("_________________________",100,p),t.text("Corporate Planning Officer",100,p+5),t.text(ae.includes("(sgnd)")?`${ae}`:`${ae} (sgnd)`,180,p-5),t.text("_________________________",180,p),t.text("Vice President(s)",180,p+5),t.text(oe.includes("(sgnd)")?`${oe}`:`${oe} (sgnd)`,260,p-5),t.text("_________________________",260,p),t.text("President(s)",260,p+5),t.save("ActionPlans.pdf")},ke=xe(()=>e(y).filter(r=>`${r.department_name} ${r.actions_taken} ${r.kpi} ${r.target_output} ${r.key_person_responsible}`.toLowerCase().includes(e(le).toLowerCase())).sort((r,a)=>{const t=r[e(I)].toString().toLowerCase(),d=a[e(I)].toString().toLowerCase();return e(Y)==="asc"?t.localeCompare(d):d.localeCompare(t)})),rt=xe(()=>e(ke).slice((e(x)-1)*e(N),e(x)*e(N))),$t=xe(()=>Math.ceil(e(ke).length/e(N))),at=r=>{e(I)===r?l(Y,G(e(Y)==="asc"?"desc":"asc")):(l(I,G(r)),l(Y,"asc"))};let pe=b(!1),v=b(null),we=b(!1),Ae=b(null);const St=r=>{l(v,G({...r})),l(pe,!0)},Nt=async()=>{if(e(v)){l(we,!0),l(Ae,null);try{const{data:r,error:a}=await g.from("action_plan").update({actions_taken:e(v).actions_taken,kpi:e(v).kpi,target_output:e(v).target_output,key_person_responsible:e(v).key_person_responsible}).eq("id",e(v).id).select();if(a)throw a;T=T.map(t=>t.id===e(v).id?{...t,...e(v)}:t),l(pe,!1)}catch(r){l(Ae,"Failed to update action plan"),console.error(r)}finally{l(we,!1)}}};var Te=kr(),Oe=s(Te),ot=s(Oe),qe=s(ot),jt=s(qe);Qt(jt,{size:20}),Ze(),o(qe),Ze(2),o(ot),o(Oe);var Ve=n(Oe,2),Ue=s(Ve),Ke=s(Ue),st=s(Ke);Xt(st,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:20});var nt=n(st,2);ye(nt),o(Ke);var _e=n(Ke,2);_e.__change=Ie;var Me=s(_e);Me.value=(Me.__value="all")==null?"":"all";var Dt=n(Me);vt(Dt,17,()=>e(de),ft,(r,a)=>{var t=ar(),d={},c=s(t,!0);o(t),F(()=>{d!==(d=e(a).name)&&(t.value=(t.__value=e(a).name)==null?"":e(a).name),$(c,e(a).name)}),k(r,t)}),o(_e);var Ee=n(_e,2);Ee.__change=Ie;var Re=s(Ee);Re.value=(Re.__value="all")==null?"":"all";var Ge=n(Re);Ge.value=(Ge.__value="approved")==null?"":"approved";var it=n(Ge);it.value=(it.__value="notApproved")==null?"":"notApproved",o(Ee),o(Ue);var lt=n(Ue,2),zt=s(lt);te(zt,()=>e(y).length>0,r=>{var a=or(),t=ze(a);t.__click=Pt;var d=n(t,2);d.__click=[er,E,u,y,ce],F(()=>d.disabled=e(E)||e(y).every(f=>e(u)==="admin"&&f.is_approved||e(u)==="vice_president"&&f.is_approved_vp||e(u)==="president"&&f.is_approved_president));var c=s(d,!0);o(d),F(()=>$(c,e(E)?"Processing...":"Approve All")),k(r,a)}),o(lt),o(Ve);var dt=n(Ve,2);te(dt,()=>e(E),r=>{var a=sr();et(3,a,()=>mt),k(r,a)},r=>{var a=ut(),t=ze(a);te(t,()=>e(rt).length>0,d=>{var c=fr(),f=ze(c),j=s(f),K=s(j),p=s(K),O=s(p),D=s(O);D.__click=[nr,at];var q=n(s(D)),ue=xe(()=>e(I)==="department_name"?"text-primary":"");gt(q,{size:16,get class(){return e(ue)}}),o(D),o(O);var ve=n(O),Q=s(ve);Q.__click=[ir,at];var Pe=n(s(Q)),$e=xe(()=>e(I)==="actions_taken"?"text-primary":"");gt(Pe,{size:16,get class(){return e($e)}}),o(Q),o(ve),Ze(4),o(p),o(K);var fe=n(K);vt(fe,21,()=>e(rt),ft,(Qe,_)=>{var _t=ut(),Ft=ze(_t);te(Ft,()=>{var ie;return((ie=e(A))==null?void 0:ie.id)===e(_).id},ie=>{var M=lr(),X=s(M),Xe=s(X,!0);o(X);var J=n(X),Se=s(J);ye(Se),o(J);var W=n(J),Ne=s(W);ye(Ne),o(W);var Z=n(W),je=s(Z);ye(je),o(Z);var ee=n(Z),De=s(ee);ye(De),o(ee);var ge=n(ee),be=s(ge),C=s(be);C.__click=[rr,A,ce];var Je=s(C);Jt(Je,{size:16}),o(C);var R=n(C,2);R.__click=[tr,A];var We=s(R);bt(We,{size:16}),o(R),o(be),o(ge),o(M),F(()=>$(Xe,e(_).department_name)),V(Se,()=>e(A).actions_taken,P=>e(A).actions_taken=P),V(Ne,()=>e(A).kpi,P=>e(A).kpi=P),V(je,()=>e(A).target_output,P=>e(A).target_output=P),V(De,()=>e(A).key_person_responsible,P=>e(A).key_person_responsible=P),et(3,M,()=>Gt),k(ie,M)},ie=>{var M=_r(),X=s(M),Xe=s(X,!0);o(X);var J=n(X),Se=s(J,!0);o(J);var W=n(J),Ne=s(W,!0);o(W);var Z=n(W),je=s(Z,!0);o(Z);var ee=n(Z),De=s(ee,!0);o(ee);var ge=n(ee),be=s(ge),C=s(be);C.__click=[dr,Et,_];var Je=s(C,!0);o(C);var R=n(C,2);R.__click=[cr,St,_];var We=s(R);Wt(We,{size:16}),o(R);var P=n(R,2);P.__click=[pr,At,_];var It=s(P);Zt(It,{size:16}),o(P),o(be),o(ge),o(M),F(()=>{$(Xe,e(_).department_name),$(Se,e(_).actions_taken),$(Ne,e(_).kpi),$(je,e(_).target_output),$(De,e(_).key_person_responsible),C.disabled=e(E)||e(u)==="admin"&&e(_).is_approved||e(u)==="vice_president"&&(!e(_).is_approved||e(_).is_approved_vp)||e(u)==="president"&&(!e(_).is_approved_vp||e(_).is_approved_president),$(Je,e(E)?"Processing...":e(u)==="admin"?e(_).is_approved?"Admin Approved":"Approve as Admin":e(u)==="vice_president"?e(_).is_approved_vp?"VP Approved":"Approve as VP":e(u)==="president"?e(_).is_approved_president?"President Approved":"Approve as President":"Approve")}),k(ie,M)}),k(Qe,_t)}),o(fe),o(j),o(f);var se=n(f,2),me=s(se),m=s(me);F(()=>$(m,`Showing ${(e(x)-1)*e(N)+1} to ${Math.min(e(x)*e(N),e(ke).length)??""} of ${e(ke).length??""} results`)),o(me);var z=n(me,2),ne=s(z),Ye=s(ne);Ye.value=(Ye.__value=5)==null?"":5;var He=n(Ye);He.value=(He.__value=10)==null?"":10;var Le=n(He);Le.value=(Le.__value=25)==null?"":25;var ct=n(Le);ct.value=(ct.__value=50)==null?"":50,o(ne);var Be=n(ne,2);Be.__click=[ur,x];var pt=n(Be,2);pt.__click=[vr,x],o(z),o(se),F(()=>{Be.disabled=e(x)===1,pt.disabled=e(x)===e($t)}),tt(ne,()=>e(N),Qe=>l(N,Qe)),k(d,c)},d=>{var c=mr();k(d,c)},!0),k(r,a)});var Ct=n(dt,2);te(Ct,()=>e(pe),r=>{var a=hr(),t=s(a),d=s(t),c=n(s(d),2);c.__click=[gr,pe];var f=s(c);bt(f,{size:24}),o(c),o(d);var j=n(d,2);te(j,()=>e(Ae),m=>{var z=br(),ne=s(z,!0);o(z),F(()=>$(ne,e(Ae))),k(m,z)});var K=n(j,2),p=s(K),O=n(s(p),2);Ce(O),o(p);var D=n(p,2),q=n(s(D),2);Ce(q),o(D);var ue=n(D,2),ve=n(s(ue),2);Ce(ve),o(ue);var Q=n(ue,2),Pe=n(s(Q),2);Ce(Pe),o(Q);var $e=n(Q,2),fe=s($e);fe.__click=[xr,pe];var se=n(fe,2),me=s(se);te(me,()=>e(we),m=>{var z=yr();k(m,z)},m=>{var z=Tt("Save Changes");k(m,z)}),o(se),o($e),o(K),o(t),o(a),F(()=>se.disabled=e(we)),Kt("submit",K,m=>{m.preventDefault(),Nt()}),V(O,()=>e(v).actions_taken,m=>e(v).actions_taken=m),V(q,()=>e(v).kpi,m=>e(v).kpi=m),V(ve,()=>e(v).target_output,m=>e(v).target_output=m),V(Pe,()=>e(v).key_person_responsible,m=>e(v).key_person_responsible=m),et(3,a,()=>mt),k(r,a)}),o(Te),F(()=>Rt(qe,"href",`/plans/${B==null?void 0:B.id}`)),V(nt,()=>e(le),r=>l(le,r)),tt(_e,()=>e(H),r=>l(H,r)),tt(Ee,()=>e(L),r=>l(L,r)),k(w,Te),qt()}Vt(["change","click"]);export{Rr as component};
